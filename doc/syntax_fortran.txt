"fftMPI documentation"_Manual.html

Syntax for calling the library from Fortran :h3

These are the methods that can be called via the Fortran interface to
the FFT3d class.  Those for the FFT2d class are identical, expect for
the setup() method, as indicated in the list.  See the
test/test3d_f90.f90 and test/test2d_f90.f90 files for examples of how
several of these methods are called.

integer world                    // world = MPI_COMM_WORLD (for example)
integer (kind=8) :: fft          // pointer to instance of C++ class
real (kind=8), allocatable :: work(:)      // for double-precision FFTs
real (kind=8), allocatable :: sendbuf(:)
real (kind=8), allocatable :: recvbuf(:)
real (kind=4), allocatable :: work(:)      // for single-precision FFTs
real (kind=4), allocatable :: sendbuf(:)
real (kind=4), allocatable :: recvbuf(:)
integer precision,collective,flag
integer nx,ny,nz,inxlo,inxhi ...    // NOTE: make these var names same as C++
                                    // likewise in test3d_f90.f90
integer permute,fftsize,sendsize,recvsize :pre

call fft3d_create(world,precision,fft)
call fft3d_create(precision,fft)
call fft3d_destroy(fft) :pre

call fft3d_set(fft,"collective",collective);
call fft3d_get(fft,"collective",collective); :pre

call fft3d_setup(fft,nx,ny,nz, &
    inxlo,inxhi,inylo,inyhi,inzlo,inzhi, &
    outxlo,outxhi,outylo,outyhi,outzlo,outzhi, &
    permute,fftsize,sendsize,recvsize)
call fft2d_setup(fft,nx,nz, &
    inxlo,inxhi,inylo,inyhi, &
    outxlo,outxhi,outylo,outyhi, &
    permute,fftsize,sendsize,recvsize)
call fft3d_setup_memory(fft,sendbuf,recvbuf); :pre

call fft3d_compute(fft,work,work,flag) :pre

call fft3d_only_1d_ffts_(fft,work,flag)
call fft3d_only_remaps_(fft,work,work,flag)
call fft3d_only_one_remap_(fft,work,work,flag,which) :pre

All these methods correspond one-to-one to the C-interface methods
described in the preceeding section, which in turn correspond
one-to-one to the C++ class methods described above.  See the
discussions in those two secions for how the different methods are
used and details of their arguments.

